# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

"""헬스 체크 결과"""
type Health {
  """(전체) 상태"""
  status: String!
}

"""정책"""
type Policy {
  """정책 ID"""
  id: String!

  """정책명"""
  name: String!

  """동의 필요 여부"""
  isRequired: Boolean!

  """생성 일시"""
  createdAt: DateTime!

  """수정 일시"""
  updatedAt: DateTime!

  """삭제 일시"""
  deletedAt: DateTime
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

"""사용자"""
type User {
  """사용자 ID"""
  id: String!

  """이메일 주소"""
  email: String!

  """사용자 닉네임"""
  nickname: String!

  """사용자의 구독 수"""
  numSubs: Int!

  """사용자의 구독자 수"""
  numSubscribers: Int!

  """생성 일시"""
  createdAt: DateTime!

  """수정 일시"""
  updatedAt: DateTime!
}

"""로그인 결과"""
type LogInResult {
  """엑세스 토큰"""
  accessToken: String!

  """리프레시 토큰"""
  refreshToken: String!
}

"""인증"""
type Verification {
  """인증 ID"""
  id: String!

  """인증 유형"""
  type: VerificationType!

  """키 (예: 이메일)"""
  key: String!

  """인증 여부"""
  isVerified: Boolean!

  """만료 일시"""
  expiresAt: DateTime!

  """생성 일시"""
  createdAt: DateTime!

  """수정 일시"""
  updatedAt: DateTime!
}

"""인증 유형"""
enum VerificationType {
  """이메일 인증"""
  EMAIL
}

"""리프레시 결과"""
type RefreshResult {
  """엑세스 토큰"""
  accessToken: String!

  """리프레시 토큰"""
  refreshToken: String
}

"""회사"""
type Company {
  """회사 ID"""
  id: String!

  """회사 이름"""
  name: String!

  """회사 주소"""
  address: String!

  """생성 일시"""
  createdAt: DateTime!

  """수정 일시"""
  updatedAt: DateTime!
}

"""구독"""
type Sub {
  """구독 ID"""
  id: String!

  """구독자 ID"""
  subscriberId: String!

  """구독자"""
  subscriber: User

  """출판인 ID"""
  publisherId: String!

  """출판인"""
  publisher: User

  """출판인의 구독 여부"""
  isAlsoSubscribing: Boolean!

  """생성 일시"""
  createdAt: DateTime!

  """수정 일시"""
  updatedAt: DateTime!
}

type Query {
  health: Health!
  policies: [Policy!]!
  companiesWithNameContaining(
    """회사명 (또는 그 일부)"""
    name: String!

    """최대 개체 수"""
    take: Int! = 10

    """스킵 개체 수"""
    skip: Int! = 0
  ): [Company!]!
  subsWithSubscriberId(
    """구독자 ID"""
    subscriberId: String!

    """최대 개체 수"""
    take: Int! = 10

    """스킵 개체 수"""
    skip: Int! = 0
  ): [Sub!]!
  subsWithPublisherId(
    """출판인 ID"""
    publisherId: String!

    """최대 개체 수"""
    take: Int! = 10

    """스킵 개체 수"""
    skip: Int! = 0
  ): [Sub!]!
}

type Mutation {
  signUp(input: SignUpInput!): LogInResult!
  signUpWithGoogle(input: SignUpWithGoogleInput!): LogInResult!
  createEmailVerification(input: CreateEmailVerificationInput!): Verification!
  logIn(input: LogInInput!): LogInResult!
  logInWithGoogle(input: LogInWithGoogleInput!): LogInResult!
  refresh: RefreshResult!
  generateGoogleAuthUrl: String!
  createSub(input: CreateSubInput!): Int!
  deleteSub(input: DeleteSubInput!): Int!
}

"""회원가입 관련 입력"""
input SignUpInput {
  """이메일 주소"""
  email: String!

  """비밀번호"""
  password: String!

  """사용자 닉네임"""
  nickname: String!

  """동의하는 정책 ID 리스트"""
  policyIds: [String!]!

  """인증 ID"""
  verificationId: String!

  """인증 코드"""
  verificationCode: String!
}

"""구글로 회원 가입하기 위한 입력"""
input SignUpWithGoogleInput {
  """구글 인가 코드"""
  code: String!

  """사용자 닉네임"""
  nickname: String!

  """동의하는 정책 ID 리스트"""
  policyIds: [String!]!
}

"""이메일 인증 생성을 위한 입력"""
input CreateEmailVerificationInput {
  """이메일 주소"""
  email: String!
}

"""로그인 관련 입력"""
input LogInInput {
  """이메일 주소"""
  email: String!

  """비밀번호"""
  password: String!
}

"""구글 로그인 관련 입력"""
input LogInWithGoogleInput {
  """구글 인가 코드"""
  code: String!
}

"""구독 생성 관련 입력"""
input CreateSubInput {
  """출판인 ID"""
  publisherId: String!
}

"""구독 삭제 관련 입력"""
input DeleteSubInput {
  """출판인 ID"""
  publisherId: String!
}